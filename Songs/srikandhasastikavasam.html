<!DOCTYPE html>
<html lang="ta">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>роХроирпНрод роЪро╖рпНроЯро┐ роХро╡роЪроорпН</title>
    <meta name="description" content="роХроирпНрод роЪро╖рпНроЯро┐ роХро╡роЪроорпН. родрпЗро╡ро░ро╛роп роЪрпБро╡ро╛рооро┐роХро│рпН роЗропро▒рпНро▒ро┐роп рокро╛ро░роорпНрокро░ро┐роп рокроХрпНродро┐ рокро╛роЯро▓рпН.">
    
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "MusicComposition",
      "name": "роХроирпНрод роЪро╖рпНроЯро┐ роХро╡роЪроорпН",
      "lyricist": "родрпЗро╡ро░ро╛роп роЪрпБро╡ро╛рооро┐роХро│рпН",
      "publisher": "рокро╛ро░роорпНрокро░ро┐ропроорпН",
      "inLanguage": "ta"
    }
    </script>

    <style>
    :root {
        --bg: #ffffff; 
        --fg: #111827; 
        --muted: #6b7280; 
        --accent: #0ea5e9; 
        --maxw: 1200px;
        --card-bg: rgba(0,0,0,0.03);
        --shadow: 0 4px 6px rgba(0,0,0,0.05);
        --transition: all 0.3s ease;
    }
    [data-theme="dark"] { 
        --bg: #0f172a; 
        --fg: #f1f5f9; 
        --muted: #94a3b8; 
        --accent: #38bdf8;
        --card-bg: rgba(30, 41, 59, 0.7);
        --shadow: 0 4px 20px rgba(0,0,0,0.35);
    }
    
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    
    body.song-page { 
        background: var(--bg); 
        color: var(--fg); 
        margin: 0; 
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Noto Sans Tamil', sans-serif; 
        transition: var(--transition);
        line-height: 1.6;
        background-image: linear-gradient(rgba(255,255,255,0.1), rgba(255,255,255,0.1)), 
                          url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="%23f8fafc"/><path d="M20,20 Q40,5 60,20 T100,20 L100,100 L0,100 Z" fill="%23dbeafe" opacity="0.1"/></svg>');
        background-attachment: fixed;
        padding-bottom: 4rem;
    }
    
    [data-theme="dark"] body.song-page {
        background-image: linear-gradient(rgba(15,23,42,0.9), rgba(15,23,42,0.9)), 
                          url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="%230f172a"/><path d="M20,80 Q40,95 60,80 T100,80 L100,0 L0,0 Z" fill="%231e293b" opacity="0.2"/></svg>');
    }
    
    .container { 
        max-width: var(--maxw); 
        margin: 0 auto; 
        padding: 1.5rem; 
    }
    
    /* Navigation & Toolbar */
    .nav-header { 
        display: flex; 
        justify-content: space-between; 
        align-items: center; 
        margin-bottom: 2rem; 
        flex-wrap: wrap; 
        gap: 1rem; 
        background: var(--card-bg);
        border-radius: 16px;
        padding: 1rem 1.5rem;
        box-shadow: var(--shadow);
        position: sticky;
        top: 0;
        z-index: 100;
        backdrop-filter: blur(10px);
    }
    
    .home-link { 
        text-decoration: none; 
        color: var(--accent); 
        font-weight: 600; 
        font-size: 1.1rem; 
        display: flex; 
        align-items: center; 
        gap: 0.5rem;
        transition: var(--transition);
    }
    .home-link:hover {
        color: var(--fg);
        transform: translateX(-3px);
    }
    
    .toolbar { 
        display: flex; 
        gap: 0.75rem; 
        flex-wrap: wrap; 
        justify-content: flex-end;
        align-items: center;
    }
    
    .btn { 
        background: transparent; 
        border: 1px solid var(--muted); 
        color: var(--fg); 
        padding: 0.55rem 1rem; 
        border-radius: 8px; 
        cursor: pointer; 
        font-size: 0.9rem;
        transition: var(--transition);
        display: flex;
        align-items: center;
        gap: 0.4rem;
        min-width: 80px;
        justify-content: center;
    }
    .btn:hover { 
        border-color: var(--accent); 
        color: var(--accent);
        transform: translateY(-1px);
    }
    .btn:active {
        transform: translateY(0);
    }
    .btn-copy { 
        background: linear-gradient(135deg, #0ea5e9, #0284c7); 
        color: white; 
        border: none; 
        box-shadow: 0 2px 5px rgba(2, 132, 199, 0.3);
    }
    .btn-copy:hover { 
        opacity: 0.9; 
        color: white;
        box-shadow: 0 3px 8px rgba(2, 132, 199, 0.4);
    }
    .btn-download { 
        background: linear-gradient(135deg, #8b5cf6, #7c3aed); 
        color: white; 
        border: none;
        box-shadow: 0 2px 5px rgba(124, 58, 237, 0.3);
    }
    .btn-download:hover { 
        opacity: 0.9;
        box-shadow: 0 3px 8px rgba(124, 58, 237, 0.4);
    }
    .btn-theme {
        background: linear-gradient(135deg, #64748b, #475569);
        color: white;
        border: none;
        min-width: 100px;
    }
    .btn-theme:hover {
        opacity: 0.9;
        background: linear-gradient(135deg, #475569, #334155);
    }
    .btn-autoscroll {
        background: linear-gradient(135deg, #10b981, #059669);
        color: white;
        border: none;
        min-width: 110px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.3rem;
    }
    .btn-autoscroll:hover {
        opacity: 0.9;
        background: linear-gradient(135deg, #059669, #047857);
    }
    .btn-autoscroll.playing {
        background: linear-gradient(135deg, #ef4444, #dc2626);
        animation: pulse 2s infinite;
    }
    @keyframes pulse {
        0% { box-shadow: 0 0 0 0 rgba(220, 38, 38, 0.4); }
        70% { box-shadow: 0 0 0 8px rgba(220, 38, 38, 0); }
        100% { box-shadow: 0 0 0 0 rgba(220, 38, 38, 0); }
    }
    
    /* Font size controls */
    .font-controls {
        display: flex;
        gap: 0.3rem;
        background: var(--card-bg);
        border-radius: 8px;
        padding: 0.25rem;
        border: 1px solid var(--muted);
    }
    
    /* Content Styling */
    .title { 
        text-align: center; 
        margin: 1.5rem 0 0.75rem; 
        font-size: 2.5rem; 
        background: linear-gradient(135deg, #8b5cf6, #ec4899, #f43f5e);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        font-weight: 800;
        text-shadow: 0 2px 10px rgba(0,0,0,0.05);
        line-height: 1.2;
        padding: 0 1rem;
    }
    
    .subtitle { 
        text-align: center; 
        color: var(--muted); 
        margin-bottom: 0.5rem; 
        font-size: 1.3rem;
        font-weight: 300;
        max-width: 800px;
        margin-left: auto;
        margin-right: auto;
        line-height: 1.5;
    }
    
    .artist { 
        text-align: center; 
        color: var(--muted); 
        margin-bottom: 2.5rem; 
        font-size: 1.15rem;
        font-weight: 500;
        letter-spacing: 0.5px;
        padding: 0.75rem 1.5rem;
        border-radius: 12px;
        background: var(--card-bg);
        display: inline-block;
        margin-top: 0.5rem;
        box-shadow: var(--shadow);
    }
    
    .lyrics-container {
        background: var(--card-bg);
        border-radius: 20px;
        padding: 2.5rem;
        box-shadow: var(--shadow);
        margin-bottom: 3rem;
        position: relative;
        border: 1px solid rgba(0,0,0,0.05);
    }
    
    [data-theme="dark"] .lyrics-container {
        border: 1px solid rgba(255,255,255,0.1);
    }
    
    .lyrics { 
        white-space: pre-wrap; 
        word-wrap: break-word;
        font-size: 1.15rem; 
        letter-spacing: 0.02rem;
        font-family: 'Segoe UI', 'Noto Sans Tamil', Tahoma, Geneva, Verdana, sans-serif;
        max-width: 900px;
        margin: 0 auto;
        line-height: 1.8;
        text-align: center;
    }
    
    /* Section headers styling */
    .lyrics .section {
        font-weight: 700;
        margin: 1.2rem 0 0.8rem;
        font-size: 1.35rem;
        color: var(--accent);
    }
    
    /* Font size adjustments */
    .lyrics.small {
        font-size: 0.95rem !important;
        line-height: 1.7 !important;
    }
    .lyrics.normal {
        font-size: 1.15rem !important;
        line-height: 1.8 !important;
    }
    .lyrics.large {
        font-size: 1.45rem !important;
        line-height: 1.9 !important;
    }
    
    /* Auto-scroll controls */
    .autoscroll-controls {
        display: flex;
        align-items: center;
        gap: 1rem;
        background: var(--card-bg);
        border-radius: 12px;
        padding: 1rem 1.5rem;
        margin-top: 2rem;
        box-shadow: var(--shadow);
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
    }
    
    .speed-control {
        display: flex;
        flex-direction: column;
        align-items: center;
        min-width: 150px;
    }
    
    .speed-label {
        font-size: 0.85rem;
        margin-bottom: 0.3rem;
        color: var(--muted);
    }
    
    .speed-slider {
        width: 100%;
        height: 6px;
        border-radius: 3px;
        background: var(--muted);
        outline: none;
        -webkit-appearance: none;
    }
    
    .speed-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: var(--accent);
        cursor: pointer;
        box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }
    
    /* Footer note */
    .footer-note {
        text-align: center;
        margin-top: 1.5rem;
        padding: 2rem;
        border-top: 1px solid var(--muted);
        color: var(--muted);
        font-size: 1.05rem;
        max-width: 800px;
        margin-left: auto;
        margin-right: auto;
        line-height: 1.6;
    }
    
    .footer-note p {
        margin-bottom: 0.8rem;
    }
    
    /* Back to top button */
    .back-to-top {
        position: fixed;
        bottom: 25px;
        right: 25px;
        width: 55px;
        height: 55px;
        border-radius: 50%;
        background: linear-gradient(135deg, var(--accent), #0284c7);
        color: white;
        border: none;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.25);
        z-index: 1000;
        opacity: 0;
        transform: translateY(20px);
        transition: var(--transition);
        font-size: 1.5rem;
        font-weight: bold;
    }
    
    .back-to-top.visible {
        opacity: 1;
        transform: translateY(0);
    }
    
    .back-to-top:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
        background: linear-gradient(135deg, #0284c7, #0369a1);
    }
    
    .back-to-top:active {
        transform: translateY(-1px);
    }
    
    /* Responsive design */
    @media (max-width: 900px) {
        :root {
            --maxw: 95%;
        }
        
        .lyrics-container {
            padding: 2rem 1.5rem;
        }
        
        .lyrics {
            font-size: 1.05rem;
            padding: 0 0.5rem;
        }
        
        .title {
            font-size: 2.1rem;
            margin-top: 1rem;
        }
        
        .subtitle {
            font-size: 1.15rem;
        }
        
        .artist {
            font-size: 1.05rem;
            padding: 0.6rem 1.2rem;
        }
        
        .nav-header {
            flex-direction: column;
            align-items: stretch;
            padding: 1rem;
        }
        
        .toolbar {
            width: 100%;
            justify-content: space-between;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 0.5rem 0.8rem;
            font-size: 0.85rem;
            min-width: auto;
            flex: 1;
            justify-content: center;
        }
        
        .font-controls {
            width: 100%;
            justify-content: center;
        }
        
        .autoscroll-controls {
            flex-direction: column;
            gap: 0.8rem;
            padding: 1.2rem;
            width: 100%;
        }
        
        .speed-control {
            width: 100%;
        }
    }
    
    @media (max-width: 480px) {
        .container {
            padding: 1rem;
        }
        
        .nav-header {
            padding: 0.8rem;
            margin-bottom: 1.5rem;
        }
        
        .title {
            font-size: 1.9rem;
            margin-top: 0.5rem;
        }
        
        .subtitle {
            font-size: 1.05rem;
        }
        
        .lyrics-container {
            padding: 1.8rem 1.2rem;
            border-radius: 16px;
        }
        
        .lyrics {
            font-size: 1.05rem;
            line-height: 1.75;
        }
        
        .lyrics.small {
            font-size: 0.85rem !important;
        }
        .lyrics.large {
            font-size: 1.35rem !important;
        }
        
        .footer-note {
            padding: 1.5rem 0.5rem;
            font-size: 0.95rem;
        }
        
        .back-to-top {
            width: 48px;
            height: 48px;
            bottom: 15px;
            right: 15px;
            font-size: 1.3rem;
        }
        
        .btn {
            padding: 0.45rem 0.7rem;
            font-size: 0.8rem;
            min-width: 70px;
        }
        
        .btn-autoscroll, .btn-theme {
            min-width: 90px;
            font-size: 0.85rem;
        }
        
        .section {
            font-size: 1.25rem !important;
        }
    }
    </style>
</head>
<body class="song-page">

<div class="container" id="song-root">
    <div class="nav-header">
        <a href="../index.html" class="home-link">тЖР Home</a>
        <div class="toolbar">
            <div class="font-controls">
                <button class="btn" id="dec" title="Decrease font size">A-</button>
                <button class="btn" id="reset" title="Reset font size">A</button>
                <button class="btn" id="inc" title="Increase font size">A+</button>
            </div>
            <button class="btn btn-theme" id="theme-toggle">Dark Mode</button>
            <button class="btn btn-autoscroll" id="auto-scroll-toggle">
                <span class="play-icon">тЦ╢</span> Auto Scroll
            </button>
            <button class="btn btn-copy" id="copy-btn">Copy</button>
            <button class="btn btn-download" id="download-btn">Download</button>
        </div>
    </div>

    <h1 class="title">роХроирпНрод роЪро╖рпНроЯро┐ роХро╡роЪроорпН</h1>
    <p class="subtitle">родрпЗро╡ро░ро╛роп роЪрпБро╡ро╛рооро┐роХро│рпН роЗропро▒рпНро▒ро┐роп рокро╛ро░роорпНрокро░ро┐роп рокроХрпНродро┐ рокро╛роЯро▓рпН - роорпБро░рпБроХрокрпН рокрпЖро░рпБрооро╛ройро┐ройрпН роХро╛ро╡роЪроорпН</p>
    <p class="artist">Composer: родрпЗро╡ро░ро╛роп роЪрпБро╡ро╛рооро┐роХро│рпН | Deity: Lord Murugan</p>

    <div class="lyrics-container">
        <div class="lyrics" id="lyrics">
роХрпБро▒ро│рпН ро╡рпЖрогрпНрокро╛

родрпБродро┐рокрпНрокрпЛро░рпНроХрпНроХрпБ ро╡ро▓рпНро╡ро┐ройрпИрокрпЛроорпНтАж родрпБройрпНрокроорпН рокрпЛроорпН,
роирпЖроЮрпНроЪро┐ро▓рпН рокродро┐рокрпНрокрпЛро░рпНроХрпНроХрпБроЪрпН роЪрпЖро▓рпНро╡роорпН рокро▓ро┐родрпНродрпБроХрпН роХродро┐родрпНродрпБ роУроЩрпНроХрпБроорпН,
роиро┐ро╖рпНроЯрпИропрпБроЩрпН роХрпИроХрпВроЯрпБроорпНтАж
роиро┐рооро▓ро░рпН роЕро░рпБро│рпН, роХроирпНродро░рпН роЪро╖рпНроЯро┐ роХро╡роЪроирпН родройрпИтАж.

роХро╛рокрпНрокрпБ

роЕрооро░ро░рпН роЗроЯро░рпНродрпАро░ роЕрооро░роорпН рокрпБро░ро┐роирпНрод
роХрпБрооро░ройрпН роЕроЯро┐ роирпЖроЮрпНроЪрпЗ роХрпБро▒ро┐тАж

роирпВро▓рпН

роЪро╖рпНроЯро┐ропрпИ роирпЛроХрпНроХ роЪро░ро╡рогрокро╡ройро╛ро░рпН
роЪро┐ро╖рпНроЯро░рпБроХрпН роХрпБродро╡рпБроорпН роЪрпЖроЩрпНроХродро┐ро░рпН ро╡рпЗро▓рпЛройрпН
рокро╛родрооро┐ро░рогрпНроЯро┐ро▓рпН рокройрпНроорогро┐роЪрпН роЪродроЩрпНроХрпИ
роХрпАродроорпН рокро╛роЯ роХро┐рогрпНроХро┐рогро┐ ропро╛роЯ(4) (роЗро░рогрпНроЯрпБ роорпБро▒рпИ рокро╛роЯро╡рпБроорпН)

роорпИропро▓рпН роироЯроЮрпНроЪрпЖропрпНропрпБроорпН рооропро┐ро▓рпНро╡ро╛роХройройро╛ро░рпН
роХрпИропро┐ро▓рпН ро╡рпЗро▓ро╛ро▓рпН роОройрпИроХрпН роХро╛роХрпНроХро╡рпЖройрпНро▒рпБро╡роирпНродрпБ
ро╡ро░ ро╡ро░ ро╡рпЗро▓ро╛ ропрпБродройро╛ро░рпН ро╡ро░рпБроХ
ро╡ро░рпБроХ ро╡ро░рпБроХ рооропро┐ро▓рпЛройрпН ро╡ро░рпБроХтАж. (8)

роЗроирпНродро┐ро░ роорпБродро▓ро╛ роОрогрпНродро┐роЪрпИ рокрпЛро▒рпНро▒
роороирпНродро┐ро░ ро╡роЯро┐ро╡рпЗро▓рпН ро╡ро░рпБроХ ро╡ро░рпБроХ..
ро╡ро╛роЪро╡ройрпН рооро░рпБроХро╛ ро╡ро░рпБроХ ро╡ро░рпБроХ,
роирпЗроЪроХрпН роХрпБро▒роороХро│рпН роиро┐ройрпИро╡рпЛройрпН ро╡ро░рпБроХ (12)

роЖро▒рпБроорпБроХроорпН рокроЯрпИродрпНрод роРропро╛ ро╡ро░рпБроХ
роирпАро▒ро┐роЯрпБроорпН ро╡рпЗро▓ро╡ройрпН роиро┐родрпНродроорпН ро╡ро░рпБроХ
роЪро┐ро░роХро┐ро░ро┐ ро╡рпЗро▓ро╡ройрпН роЪрпАроХрпНроХро┐ро░роорпН ро╡ро░рпБроХ
роЪро░ро╣рогрокро╡ройро╛ро░рпН роЪроЯрпБродро┐ропро┐ро▓рпН ро╡ро░рпБроХтАж.. (16)

ро░ро╣рог рокро╡ роЪ ро░ро░ро░ро░ ро░ро░ро░
ро░ро┐ро╣рог рокро╡ роЪ ро░ро┐ро░ро┐ро░ро┐ро░ро┐ ро░ро┐ро░ро┐ро░ро┐
ро╡ро┐рогрокро╡ роЪро░ро╣рог ро╡рпАро░ро╛ роироорпЛ роироо
роиро┐рокро╡ роЪро░ро╣рог роиро┐ро▒роиро┐ро▒ роиро┐ро▒рпЖрой

ро╡роЪро░ ро╣рогрок ро╡ро░рпБроХ ро╡ро░рпБроХ
роЕроЪрпБро░ро░рпН роХрпБроЯро┐роХрпЖроЯрпБродрпНрод роРропро╛ ро╡ро░рпБроХ
роОройрпНройрпИ роЖро│рпБроорпН роЗро│рпИропрпЛройрпН роХрпИропро┐ро▓рпН
рокройрпНройро┐ро░рогрпНроЯро╛ ропрпБродроорпН рокро╛роЪ роЕроЩрпНроХрпБроЪроорпБроорпН (24)
        </div>
        
        <div class="autoscroll-controls" id="autoscroll-controls">
            <div class="speed-control">
                <div class="speed-label">Scroll Speed: <span id="speed-value">1.0x</span></div>
                <input type="range" min="0.5" max="3" step="0.1" value="1" class="speed-slider" id="speed-slider">
            </div>
            <div class="instructions">
                <small>Click "Auto Scroll" button to start/stop. Adjust speed as needed.</small>
            </div>
        </div>
    </div>

    <div class="footer-note">
        <p>роХроирпНрод роЪро╖рпНроЯро┐ роХро╡роЪроорпН роОройрпНрокродрпБ роорпБро░рпБроХрокрпН рокрпЖро░рпБрооро╛ройрпИ ро╡ро┤ро┐рокроЯрпБро╡родро▒рпНроХро╛рой роТро░рпБ роЪроХрпНродро┐ро╡ро╛ропрпНроирпНрод рокро╛ро░роорпНрокро░ро┐роп рокроХрпНродро┐ рокро╛роЯро▓ро╛роХрпБроорпН. роЗродрпБ родрпЗро╡ро░ро╛роп роЪрпБро╡ро╛рооро┐роХро│ро╛ро▓рпН роЗропро▒рпНро▒рокрпНрокроЯрпНроЯродрпБ.</p>
        <p>роЗроирпНрод роХро╡роЪроорпН рокроХрпНродро░рпНроХро│рпБроХрпНроХрпБ роЖройрпНрооро┐роХ рокро▓родрпНродрпИропрпБроорпН, рокро╛родрпБроХро╛рокрпНрокрпИропрпБроорпН роЕро│ро┐роХрпНроХро┐ро▒родрпБ роОройрпНро▒рпБ роироорпНрокрокрпНрокроЯрпБроХро┐ро▒родрпБ.</p>
    </div>
</div>

<button class="back-to-top" id="back-to-top">тЖС</button>

<script>
(function(){
    const root = document.documentElement;
    const lyrics = document.getElementById('lyrics');
    const themeBtn = document.getElementById('theme-toggle');
    const copyBtn = document.getElementById('copy-btn');
    const downloadBtn = document.getElementById('download-btn');
    const backToTopBtn = document.getElementById('back-to-top');
    const autoScrollBtn = document.getElementById('auto-scroll-toggle');
    const speedSlider = document.getElementById('speed-slider');
    const speedValue = document.getElementById('speed-value');
    const playIcon = document.querySelector('.play-icon');
    
    let autoScrollInterval = null;
    let isAutoScrolling = false;
    let scrollSpeed = 1.0; // Default speed
    
    // Theme Logic
    const savedTheme = localStorage.getItem('devotional-theme');
    if(savedTheme === 'dark') {
        root.setAttribute('data-theme', 'dark');
        themeBtn.innerHTML = '<span>тШАя╕П</span> Light Mode';
    } else {
        themeBtn.innerHTML = '<span>ЁЯМЩ</span> Dark Mode';
    }

    themeBtn.addEventListener('click', () => {
        if(root.hasAttribute('data-theme')) {
            root.removeAttribute('data-theme');
            localStorage.setItem('devotional-theme', 'light');
            themeBtn.innerHTML = '<span>ЁЯМЩ</span> Dark Mode';
        } else {
            root.setAttribute('data-theme', 'dark');
            localStorage.setItem('devotional-theme', 'dark');
            themeBtn.innerHTML = '<span>тШАя╕П</span> Light Mode';
        }
    });

    // Font Size Logic
    const applySize = (size) => {
        // Remove all size classes first
        lyrics.classList.remove('small', 'normal', 'large');
        
        // Apply the selected size class
        if(size === 'small') {
            lyrics.classList.add('small');
        } else if(size === 'large') {
            lyrics.classList.add('large');
        } else {
            lyrics.classList.add('normal');
        }
        
        // Save to localStorage
        localStorage.setItem('lyrics-size', size);
    };
    
    // Apply saved font size on load
    const savedSize = localStorage.getItem('lyrics-size') || 'normal';
    applySize(savedSize);

    // Button event listeners
    document.getElementById('inc').addEventListener('click', () => applySize('large'));
    document.getElementById('dec').addEventListener('click', () => applySize('small'));
    document.getElementById('reset').addEventListener('click', () => applySize('normal'));

    // Copy Logic
    copyBtn.addEventListener('click', () => {
        const textToCopy = lyrics.innerText;
        navigator.clipboard.writeText(textToCopy).then(() => {
            const originalText = copyBtn.innerHTML;
            copyBtn.innerHTML = '<span>тЬУ</span> Copied!';
            copyBtn.style.background = 'linear-gradient(135deg, #10b981, #059669)';
            setTimeout(() => { 
                copyBtn.innerHTML = originalText;
                copyBtn.style.background = '';
            }, 2000);
        }).catch(err => {
            console.error('Copy failed:', err);
            alert('Copy failed. Please copy manually.');
        });
    });

    // Download Logic
    downloadBtn.addEventListener('click', () => {
        const content = lyrics.innerText;
        const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'kandha_sashti_kavasam.txt';
        document.body.appendChild(a);
        a.click();
        setTimeout(() => {
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }, 0);
    });
    
    // Back to Top Logic
    window.addEventListener('scroll', () => {
        if (window.pageYOffset > 400) {
            backToTopBtn.classList.add('visible');
        } else {
            backToTopBtn.classList.remove('visible');
        }
    });
    
    backToTopBtn.addEventListener('click', () => {
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    });
    
    // Auto Scroll Logic
    speedSlider.addEventListener('input', () => {
        scrollSpeed = parseFloat(speedSlider.value);
        speedValue.textContent = scrollSpeed.toFixed(1) + 'x';
    });
    
    autoScrollBtn.addEventListener('click', () => {
        if (isAutoScrolling) {
            // Stop auto scroll
            clearInterval(autoScrollInterval);
            autoScrollInterval = null;
            isAutoScrolling = false;
            autoScrollBtn.classList.remove('playing');
            playIcon.textContent = 'тЦ╢';
            autoScrollBtn.innerHTML = `<span class="play-icon">${playIcon.textContent}</span> Auto Scroll`;
        } else {
            // First scroll to top of lyrics
            const lyricsContainer = document.querySelector('.lyrics-container');
            const containerPosition = lyricsContainer.getBoundingClientRect().top + window.pageYOffset;
            window.scrollTo({
                top: containerPosition - 100,
                behavior: 'smooth'
            });
            
            // Start auto scroll after scroll completes
            setTimeout(() => {
                autoScrollInterval = setInterval(() => {
                    // Calculate scroll amount based on speed
                    const scrollAmount = 2 * scrollSpeed;
                    
                    // Scroll the window
                    window.scrollBy(0, scrollAmount);
                    
                    // Check if we've reached the bottom
                    const scrolledToBottom = window.innerHeight + window.scrollY >= document.body.offsetHeight - 200;
                    
                    if (scrolledToBottom) {
                        clearInterval(autoScrollInterval);
                        isAutoScrolling = false;
                        autoScrollBtn.classList.remove('playing');
                        playIcon.textContent = 'тЦ╢';
                        autoScrollBtn.innerHTML = `<span class="play-icon">${playIcon.textContent}</span> Auto Scroll`;
                    }
                }, 50);
                
                isAutoScrolling = true;
                autoScrollBtn.classList.add('playing');
                playIcon.textContent = 'тЭЪтЭЪ';
                autoScrollBtn.innerHTML = `<span class="play-icon">${playIcon.textContent}</span> Pause Scroll`;
            }, 800);
        }
    });
    
    // Stop auto-scroll when user manually scrolls
    let scrollTimeout;
    window.addEventListener('scroll', () => {
        if (isAutoScrolling) {
            clearTimeout(scrollTimeout);
            scrollTimeout = setTimeout(() => {
                clearInterval(autoScrollInterval);
                isAutoScrolling = false;
                autoScrollBtn.classList.remove('playing');
                playIcon.textContent = 'тЦ╢';
                autoScrollBtn.innerHTML = `<span class="play-icon">${playIcon.textContent}</span> Auto Scroll`;
            }, 100);
        }
    });
    
    // Initialize with normal size if not set
    if (!localStorage.getItem('lyrics-size')) {
        applySize('normal');
    }
})();
</script>

</body>
</html>

